{% extends 'base.html' %}

{% block content %}

<h1>Agent List <span class="subtitle"></span></h1>

<div class="venue-container">
    {% for agent in agents %}
        <div class="venue-card">
            <h2>{{ agent.agent_name }}</h2>

            {% if agent.venue_id %}
                <p><strong>Venue Name:</strong> {{ agent.venue_id.venue_name }}</p>
                <p><strong>Type:</strong> {{ agent.venue_id.type }}</p>
                <p><strong>Location:</strong> 
                    {{ agent.venue_id.building_id.address }}, {{ agent.venue_id.building_id.city }}
                </p>
                <p><strong>Floor Area:</strong> {{ agent.venue_id.floor_area }}</p>
                <p><strong>Capacity:</strong> {{ agent.venue_id.capacity }}</p>
                <p><strong>Amenities:</strong></p>
                <ul>
                    {% for va in agent.venue_id.venueamenity_set.all %}
                        <li>({{ va.count }}) {{ va.amenity_id.type }} â€” {{ va.amenity_id.description }}</li>
                    {% empty %}
                        <li>No amenities listed.</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No venue assigned.</p>
            {% endif %}

        </div>
    {% empty %}
        <p>No agents found.</p>
    {% endfor %}
</div>

{% endblock %}

